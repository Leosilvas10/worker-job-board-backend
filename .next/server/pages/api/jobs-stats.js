"use strict";(()=>{var e={};e.id=353,e.ids=[353],e.modules={3480:(e,a,t)=>{e.exports=t(5600)},3542:(e,a,t)=>{t.r(a),t.d(a,{config:()=>l,default:()=>c,routeModule:()=>d});var o={};t.r(o),t.d(o,{default:()=>n});var s=t(3480),r=t(8667),i=t(6435);async function n(e,a){try{if(console.log("\uD83D\uDCCA Buscando estat\xedsticas reais das vagas..."),"GET"!==e.method)return a.status(405).json({success:!1,message:"M\xe9todo n\xe3o permitido"});let t={success:!1,data:[]};try{let a=await fetch(`${e.headers.origin||"http://localhost:3000"}/api/all-jobs-combined`);if(a.ok)try{t=await a.json()}catch(e){console.error("Erro ao parsear resposta da API de vagas:",e)}}catch(e){console.error("Erro ao buscar vagas:",e)}if(!t.success||!t.data)return a.status(200).json({success:!0,totalJobs:347,applications:89,inactiveJobs:23,activeJobs:324,categories:{"Empregos Simples":156,Tecnologia:89,Saúde:67,"Servi\xe7os Gerais":35},locations:{"S\xe3o Paulo, SP":120,"Rio de Janeiro, RJ":85,"Belo Horizonte, MG":45,Outras:97},message:"Estat\xedsticas simuladas - API de vagas indispon\xedvel"});let o=t.data,s=o.length,r={},i={},n={},c={};o.forEach(e=>{if(e.category&&(r[e.category]=(r[e.category]||0)+1),e.location){let a=e.location.toLowerCase();i[a]=(i[a]||0)+1}if(e.contractType&&(c[e.contractType]=(c[e.contractType]||0)+1),e.salary){let a=e.salary.toLowerCase();a.includes("1.")||a.includes("at\xe9 2000")?n["At\xe9 R$ 2.000"]=(n["At\xe9 R$ 2.000"]||0)+1:a.includes("2.")||a.includes("3.")?n["R$ 2.000 - R$ 4.000"]=(n["R$ 2.000 - R$ 4.000"]||0)+1:a.includes("4.")||a.includes("5.")?n["R$ 4.000 - R$ 6.000"]=(n["R$ 4.000 - R$ 6.000"]||0)+1:a.includes("acima")||a.includes("6.")?n["Acima de R$ 6.000"]=(n["Acima de R$ 6.000"]||0)+1:n["A combinar"]=(n["A combinar"]||0)+1}else n["A combinar"]=(n["A combinar"]||0)+1});let l={"Servi\xe7os Dom\xe9sticos":(r.domestica||0)+(r.cozinheira||0)+(r.baba||0)+(r.domestic||0),"Seguran\xe7a e Portaria":(r.porteiro||0)+(r.vigilante||0)+(r.security||0)+(r.recepcao||0),"Cuidados e Sa\xfade":(r.cuidador||0)+(r.enfermagem||0)+(r.saude||0)+(r.acompanhante||0),"Limpeza e Conserva\xe7\xe3o":(r.limpeza||0)+(r.faxineira||0)+(r.conservacao||0)+(r["auxiliar-limpeza"]||0),"Transporte e Log\xedstica":(r.motorista||0)+(r.entregador||0)+(r.logistica||0)+(r.transport||0),"Vendas e Atendimento":(r.vendedor||0)+(r.atendente||0)+(r.vendas||0)+(r.comercial||0)},d=new Date,u=new Date(d.getTime()-6048e5),g=o.filter(e=>!!e.datePosted&&new Date(e.datePosted)>=u),m=Object.entries(i).sort((e,a)=>a[1]-e[1]).slice(0,10).map(([e,a])=>({city:e,count:a})),p={totalJobs:s,recentJobs:g.length,categories:l,allCategories:r,topCities:m,salaryRanges:n,contractTypes:c,internalJobs:t.meta?.internal||0,externalJobs:t.meta?.external||0,sources:t.meta?.sources||[],lastUpdate:new Date().toISOString(),formatted:{totalJobsFormatted:s.toLocaleString("pt-BR"),recentJobsFormatted:g.length.toLocaleString("pt-BR"),topCategory:Object.entries(l).sort((e,a)=>a[1]-e[1])[0],avgJobsPerCategory:Math.round(s/Object.keys(l).length)}};console.log(`✅ Estat\xedsticas calculadas: ${s} vagas totais`),a.status(200).json({success:!0,data:p})}catch(e){console.error("❌ Erro ao calcular estat\xedsticas:",e),a.status(500).json({success:!1,message:"Erro ao calcular estat\xedsticas das vagas",data:{totalJobs:0,recentJobs:0,categories:{},error:e.message}})}}let c=(0,i.M)(o,"default"),l=(0,i.M)(o,"config"),d=new s.PagesAPIRouteModule({definition:{kind:r.A.PAGES_API,page:"/api/jobs-stats",pathname:"/api/jobs-stats",bundlePath:"",filename:""},userland:o})},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,a)=>{Object.defineProperty(a,"M",{enumerable:!0,get:function(){return function e(a,t){return t in a?a[t]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,t)):"function"==typeof a&&"default"===t?a:void 0}}})},8667:(e,a)=>{Object.defineProperty(a,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var a=require("../../webpack-api-runtime.js");a.C(e);var t=a(a.s=3542);module.exports=t})();