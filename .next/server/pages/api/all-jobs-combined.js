"use strict";(()=>{var a={};a.id=979,a.ids=[979],a.modules={2183:(a,e,t)=>{t.r(e),t.d(e,{config:()=>c,default:()=>l,routeModule:()=>d});var o={};t.r(o),t.d(o,{default:()=>n});var r=t(3480),i=t(8667),s=t(6435);async function n(a,e){try{if(console.log("\uD83D\uDD04 Buscando vagas do backend em produ\xe7\xe3o..."),"GET"!==a.method)return e.status(405).json({success:!1,message:"M\xe9todo n\xe3o permitido"});let t=[],o=[];try{let a="https://worker-job-board-backend-leonardosilvas2.replit.app";console.log("\uD83D\uDD17 Conectando ao backend:",a);let e=await fetch(`${a}/api/leads`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","User-Agent":"SiteDoTrabalhador-Frontend"}});if(console.log("\uD83D\uDCE1 Status da resposta do backend (leads):",e.status),e.ok){let a=await e.json();if(console.log("\uD83D\uDCCA Dados de leads recebidos:",a),a.leads&&Array.isArray(a.leads)&&a.leads.length>0){let e=a.leads.map((a,e)=>({id:a.id||`lead_${e}`,title:a.cargo||a.title||a.posicao||"Vaga Dispon\xedvel",company:a.empresa||a.company||a.nomeEmpresa||"Empresa Parceira",location:a.cidade||a.location||a.local||"Brasil",salary:a.salario||a.salary||a.faixaSalarial||"A combinar",description:a.descricao||a.description||a.detalhes||`Vaga para ${a.cargo||"profissional qualificado"}. Entre em contato para mais informa\xe7\xf5es.`,type:a.tipo||a.type||a.tipoContrato||"CLT",category:a.categoria||a.category||a.area||"Geral",source:"Backend Real - Leads",isExternal:!0,requiresLead:!0,priority:"high",created_at:a.created_at||a.dataCreated||a.dataCriacao||new Date().toISOString(),tags:[a.cargo?.toLowerCase()||a.title?.toLowerCase()||"emprego"],leadData:{telefone:a.telefone||a.phone,email:a.email,whatsapp:a.whatsapp,contato:a.contato}}));t.push(...e),o.push("Backend Real - Leads"),console.log(`âœ… ${e.length} vagas reais carregadas do backend (leads)`)}}if(t.length<50){let e=await fetch(`${a}/api/jobs-stats`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","User-Agent":"SiteDoTrabalhador-Frontend"}});if(console.log("\uD83D\uDCE1 Status da resposta do backend (stats):",e.status),e.ok){let a=await e.json();if(console.log("\uD83D\uDCCA Estat\xedsticas recebidas:",a),a.totalJobs&&a.totalJobs>t.length){let e=Math.min(a.totalJobs-t.length,100);console.log(`ðŸ“Š Backend indica ${a.totalJobs} vagas totais, criando ${e} vagas complementares...`);let r=[],i=[{title:"Empregada Dom\xe9stica",company:"Fam\xedlia Particular",salary:"R$ 1.320,00",category:"Dom\xe9stica"},{title:"Diarista",company:"Residencial",salary:"R$ 120,00/dia",category:"Dom\xe9stica"},{title:"Cuidadora de Idosos",company:"Cuidados Senior",salary:"R$ 1.800,00",category:"Cuidados"},{title:"Bab\xe1",company:"Fam\xedlia",salary:"R$ 1.600,00",category:"Cuidados"},{title:"Porteiro",company:"Condom\xednio",salary:"R$ 1.500,00",category:"Seguran\xe7a"},{title:"Vigilante",company:"Empresa de Seguran\xe7a",salary:"R$ 1.700,00",category:"Seguran\xe7a"},{title:"Auxiliar de Limpeza",company:"Clean Service",salary:"R$ 1.400,00",category:"Limpeza"},{title:"Jardineiro",company:"Paisagismo Verde",salary:"R$ 1.350,00",category:"Jardinagem"},{title:"Motorista",company:"Transporte Executivo",salary:"R$ 2.200,00",category:"Transporte"},{title:"Entregador",company:"Delivery Express",salary:"R$ 1.800,00",category:"Log\xedstica"},{title:"Vendedor",company:"Loja Comercial",salary:"R$ 1.500,00 + comiss\xe3o",category:"Vendas"},{title:"Atendente",company:"Com\xe9rcio Local",salary:"R$ 1.400,00",category:"Atendimento"},{title:"Cozinheira",company:"Restaurante",salary:"R$ 1.600,00",category:"Alimenta\xe7\xe3o"},{title:"Passadeira",company:"Lavanderia",salary:"R$ 1.300,00",category:"Servi\xe7os"},{title:"Faxineira",company:"Empresa",salary:"R$ 1.320,00",category:"Limpeza"},{title:"Caseiro",company:"S\xedtio Particular",salary:"R$ 2.000,00",category:"Servi\xe7os"}],s=["S\xe3o Paulo, SP","Rio de Janeiro, RJ","Belo Horizonte, MG","Bras\xedlia, DF","Salvador, BA","Curitiba, PR","Fortaleza, CE","Recife, PE","Porto Alegre, RS","Manaus, AM","Bel\xe9m, PA","Goi\xe2nia, GO"];for(let a=0;a<e;a++){let e=i[a%i.length],t=s[a%s.length],o="https://www.catho.com.br/vagas/",n=e.title.toLowerCase();n.includes("dom\xe9stica")||n.includes("diarista")?o="https://www.catho.com.br/vagas/empregada-domestica/":n.includes("porteiro")||n.includes("vigilante")?o="https://www.catho.com.br/vagas/porteiro/":n.includes("cuidador")||n.includes("bab\xe1")?o="https://www.catho.com.br/vagas/cuidador/":n.includes("motorista")?o="https://www.catho.com.br/vagas/motorista/":n.includes("vendedor")||n.includes("atendente")?o="https://www.catho.com.br/vagas/vendedor/":n.includes("limpeza")||n.includes("faxineira")?o="https://www.catho.com.br/vagas/auxiliar-limpeza/":n.includes("jardineiro")?o="https://www.catho.com.br/vagas/jardineiro/":(n.includes("cozinha")||n.includes("cozinheira"))&&(o="https://www.catho.com.br/vagas/cozinheiro/"),r.push({id:`complementary_${a+1}`,title:e.title,company:`${e.company} - ${t.split(",")[0]}`,location:t,salary:e.salary,description:`Oportunidade para ${e.title.toLowerCase()} em empresa s\xe9ria. Requisitos: experi\xeancia na \xe1rea, responsabilidade e dedica\xe7\xe3o. Entre em contato para mais informa\xe7\xf5es.`,type:"CLT",category:e.category,source:"Backend Stats",isExternal:!0,requiresLead:!0,priority:"medium",created_at:new Date(Date.now()-36e5*a).toISOString(),tags:[e.title.toLowerCase().replace(/\s+/g,"-")],redirectUrl:o,realJobSource:"Catho"})}t.push(...r),o.push("Backend Stats"),console.log(`âœ… ${r.length} vagas complementares criadas baseadas nas estat\xedsticas do backend`)}}}}catch(a){console.error("âŒ Erro ao conectar com o backend:",a.message)}if(0===t.length){console.log("\uD83D\uDD04 Usando vagas fallback m\xednimas...");let a=[{id:"fallback_1",title:"Empregada Dom\xe9stica",company:"Fam\xedlia Particular",location:"S\xe3o Paulo, SP",salary:"R$ 1.320,00",description:"Limpeza geral da casa, organiza\xe7\xe3o e cuidados b\xe1sicos. Experi\xeancia m\xednima de 1 ano.",type:"CLT",category:"Dom\xe9stica",source:"Fallback",isExternal:!0,requiresLead:!0,priority:"high",created_at:new Date().toISOString(),tags:["dom\xe9stica","limpeza","cuidados"],redirectUrl:"https://www.catho.com.br/vagas/empregada-domestica/",realJobSource:"Catho"},{id:"fallback_2",title:"Diarista",company:"Residencial",location:"Rio de Janeiro, RJ",salary:"R$ 120,00/dia",description:"Limpeza completa de apartamento 2 quartos, 2x por semana.",type:"Diarista",category:"Dom\xe9stica",source:"Fallback",isExternal:!0,requiresLead:!0,priority:"high",created_at:new Date().toISOString(),tags:["diarista","limpeza","apartamento"],redirectUrl:"https://www.catho.com.br/vagas/empregada-domestica/",realJobSource:"Catho"}];t.push(...a),o.push("Fallback"),console.log(`âœ… ${a.length} vagas fallback carregadas`)}let r=t.filter((a,e,t)=>e===t.findIndex(e=>e.id===a.id));return r.sort((a,e)=>{let t={high:3,medium:2,low:1},o=t[a.priority]||1,r=t[e.priority]||1;return o!==r?r-o:new Date(e.created_at||new Date)-new Date(a.created_at||new Date)}),console.log(`âœ… Total de vagas dispon\xedveis: ${r.length}`),console.log(`ðŸ“Š Fontes: ${o.join(", ")}`),e.status(200).json({success:!0,data:r,jobs:r,total:r.length,meta:{sources:o,totalSources:o.length,lastUpdate:new Date().toISOString(),cached:!1,backendUrl:"https://worker-job-board-backend-leonardosilvas2.replit.app",availableEndpoints:["/api/leads","/api/jobs-stats"],realLeads:t.filter(a=>a.source.includes("Backend Real")).length,complementaryJobs:t.filter(a=>a.source.includes("Stats")).length,fallbackJobs:t.filter(a=>"Fallback"===a.source).length}})}catch(a){return console.error("âŒ Erro geral na API:",a),e.status(500).json({success:!1,message:"Erro ao buscar vagas",data:[],jobs:[],total:0,error:a.message})}}let l=(0,s.M)(o,"default"),c=(0,s.M)(o,"config"),d=new r.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/all-jobs-combined",pathname:"/api/all-jobs-combined",bundlePath:"",filename:""},userland:o})},3480:(a,e,t)=>{a.exports=t(5600)},5600:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(a,e)=>{Object.defineProperty(e,"M",{enumerable:!0,get:function(){return function a(e,t){return t in e?e[t]:"then"in e&&"function"==typeof e.then?e.then(e=>a(e,t)):"function"==typeof e&&"default"===t?e:void 0}}})},8667:(a,e)=>{Object.defineProperty(e,"A",{enumerable:!0,get:function(){return t}});var t=function(a){return a.PAGES="PAGES",a.PAGES_API="PAGES_API",a.APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE",a.IMAGE="IMAGE",a}({})}};var e=require("../../webpack-api-runtime.js");e.C(a);var t=e(e.s=2183);module.exports=t})();