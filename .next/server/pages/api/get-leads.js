"use strict";(()=>{var e={};e.id=263,e.ids=[263],e.modules={1023:(e,a,t)=>{t.r(a),t.d(a,{config:()=>u,default:()=>d,routeModule:()=>l});var o={};t.r(o),t.d(o,{default:()=>i});var r=t(3480),s=t(8667),n=t(6435);async function i(e,a){if("GET"!==e.method)return a.status(405).json({success:!1,message:"M\xe9todo n\xe3o permitido"});try{console.log("\uD83C\uDFAF PAINEL ADMIN - Buscando leads do endpoint CORRETO...");let e="https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research-leads";console.log("\uD83D\uDCE1 CONECTANDO EM:",e);let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","User-Agent":"SiteDoTrabalhador-AdminPanel"}});if(console.log("\uD83D\uDCCA Status da resposta:",t.status),!t.ok)throw Error(`HTTP ${t.status}: ${t.statusText}`);let o=await t.text();console.log("\uD83D\uDCCB Resposta bruta:",o.substring(0,200)+"...");let r=JSON.parse(o);console.log("✅ SUCESSO! Leads recebidos:",r.leads?.length||0);let s=(r.leads||[]).map(e=>({id:e.id,nome:e.nomeCompleto||e.nome||"Nome n\xe3o informado",telefone:e.whatsapp||e.telefone||"N\xe3o informado",email:e.email||"N\xe3o informado",empresa:e.nome_ultima_empresa||e.ultimaEmpresa||e.empresa||"N\xe3o informado",vaga:e.vaga_titulo||e.vagaTitulo||"Pesquisa Trabalhista",status:e.status||"novo",created_at:e.createdAt||e.created_at||new Date().toISOString(),idade:e.idade||"N\xe3o informada",cidade:e.cidade||"N\xe3o informada",estado:e.estado||"N\xe3o informado",tipoCarteira:e.tipo_carteira||e.tipoCarteira,recebeuTudoCertinho:e.recebeu_tudo_certinho||e.recebeuTudoCertinho,situacoesDuranteTrabalho:Array.isArray(e.situacoes_enfrentadas)?e.situacoes_enfrentadas:"string"==typeof e.situacoes_enfrentadas?e.situacoes_enfrentadas.split(", "):e.situacoesDuranteTrabalho||[],aceitaConsultoria:e.aceita_consultoria||e.aceitaConsultoria,fonte:"Pesquisa Trabalhista"}));return a.status(200).json({success:!0,leads:s,total:s.length,timestamp:new Date().toISOString()})}catch(e){return console.error("❌ ERRO CR\xcdTICO no painel admin:",e),a.status(500).json({success:!1,message:"Erro ao buscar leads do backend",error:e.message,leads:[],total:0})}}let d=(0,n.M)(o,"default"),u=(0,n.M)(o,"config"),l=new r.PagesAPIRouteModule({definition:{kind:s.A.PAGES_API,page:"/api/get-leads",pathname:"/api/get-leads",bundlePath:"",filename:""},userland:o})},3480:(e,a,t)=>{e.exports=t(5600)},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,a)=>{Object.defineProperty(a,"M",{enumerable:!0,get:function(){return function e(a,t){return t in a?a[t]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,t)):"function"==typeof a&&"default"===t?a:void 0}}})},8667:(e,a)=>{Object.defineProperty(a,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var a=require("../../webpack-api-runtime.js");a.C(e);var t=a(a.s=1023);module.exports=t})();