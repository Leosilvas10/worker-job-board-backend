"use strict";(()=>{var e={};e.id=301,e.ids=[301],e.modules={3480:(e,o,r)=>{e.exports=r(5600)},3873:e=>{e.exports=require("path")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,o)=>{Object.defineProperty(o,"M",{enumerable:!0,get:function(){return function e(o,r){return r in o?o[r]:"then"in o&&"function"==typeof o.then?o.then(o=>e(o,r)):"function"==typeof o&&"default"===r?o:void 0}}})},6547:(e,o,r)=>{r.r(o),r.d(o,{config:()=>u,default:()=>p,routeModule:()=>f});var a={};r.r(a),r.d(a,{default:()=>l});var s=r(3480),t=r(8667),i=r(6435);let n=r(9021),c=r(3873),d=c.join(process.cwd(),"data","leads.json"),m=()=>{let e=c.dirname(d);n.existsSync(e)||n.mkdirSync(e,{recursive:!0})};async function l(e,o){if("POST"!==e.method)return o.status(405).json({error:"M\xe9todo n\xe3o permitido"});try{m();let r=e.body;if(!r.nomeEmpresa||!r.email||!r.telefone||!r.cargo)return o.status(400).json({success:!1,message:"Dados obrigat\xf3rios faltando: nome da empresa, email, telefone e cargo s\xe3o necess\xe1rios"});let a=new Date().toLocaleString("pt-BR"),s=`empresa_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,t={id:s,leadId:s,nome:`Empresa: ${r.nomeEmpresa}`,email:r.email,telefone:r.telefone,whatsapp:r.telefone,nomeEmpresa:r.nomeEmpresa,cnpj:r.cnpj,segmento:r.segmento,cidade:r.cidade,descricaoEmpresa:r.descricaoEmpresa,cargo:r.cargo,area:r.area,tipoContrato:r.tipoContrato,salario:r.salario,descricaoVaga:r.descricaoVaga,requisitos:r.requisitos,beneficios:r.beneficios,localTrabalho:r.localTrabalho,type:"empresa",source:"Formul\xe1rio de Empresas",fonte:"Formul\xe1rio de Empresas",status:"pendente",lgpdConsent:!0,timestamp:a,timestampISO:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),dataChegada:a,ip:e.headers["x-forwarded-for"]||e.connection.remoteAddress||"N\xe3o dispon\xedvel",userAgent:e.headers["user-agent"]||"N\xe3o dispon\xedvel",jobTitle:r.cargo,company:r.nomeEmpresa,experiencia:`EMPRESA - CNPJ: ${r.cnpj||"N\xe3o informado"} | Segmento: ${r.segmento||"N\xe3o informado"} | Cidade: ${r.cidade||"N\xe3o informada"} | Descri\xe7\xe3o: ${r.descricaoEmpresa||"N\xe3o informada"}`,originalLocation:r.localTrabalho||r.cidade||"Brasil"},i=[];if(n.existsSync(d))try{let e=n.readFileSync(d,"utf8");i=JSON.parse(e)}catch(e){console.error("Erro ao ler leads existentes:",e),i=[]}i.push(t),i.length>1e3&&i.splice(0,i.length-1e3),n.writeFileSync(d,JSON.stringify(i,null,2)),console.log("✅ Solicita\xe7\xe3o de empresa salva com sucesso:",{id:t.id,empresa:r.nomeEmpresa,cargo:r.cargo,email:r.email,timestamp:a}),o.status(200).json({success:!0,message:"Solicita\xe7\xe3o de empresa recebida com sucesso! Nossa equipe entrar\xe1 em contato em at\xe9 24 horas \xfateis.",id:t.id})}catch(e){console.error("❌ Erro ao processar solicita\xe7\xe3o de empresa:",e),o.status(500).json({success:!1,message:"Erro interno do servidor ao processar sua solicita\xe7\xe3o",error:"Erro interno do servidor"})}}let p=(0,i.M)(a,"default"),u=(0,i.M)(a,"config"),f=new s.PagesAPIRouteModule({definition:{kind:t.A.PAGES_API,page:"/api/submit-empresa",pathname:"/api/submit-empresa",bundlePath:"",filename:""},userland:a})},8667:(e,o)=>{Object.defineProperty(o,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9021:e=>{e.exports=require("fs")}};var o=require("../../webpack-api-runtime.js");o.C(e);var r=o(o.s=6547);module.exports=r})();