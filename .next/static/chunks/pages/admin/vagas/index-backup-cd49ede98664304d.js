(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{4255:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(7876),r=s(4232),l=s(9099),n=s(7328),d=s.n(n),i=s(6297),o=s(5364);function c(){let e=(0,l.useRouter)(),[a,s]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!0),[x,m]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[p,u]=(0,r.useState)(null),[j,b]=(0,r.useState)(null),[v,N]=(0,r.useState)("frontend"),[y,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{localStorage.getItem("admin_token")?(s(!0),w(),k()):e.push("/admin/login"),c(!1)},[]);let w=async()=>{try{c(!0),b(null),console.log("\uD83D\uDD04 Carregando TODAS as vagas (simples + externas) no painel admin...");let s=new Date().getTime(),t=await fetch("/api/all-jobs-combined?t=".concat(s,"&admin=true"),{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!t.ok)throw Error("Erro HTTP! status: ".concat(t.status));let r=await t.json();if(console.log("\uD83D\uDCCA Dados recebidos no admin:",r),r.success&&r.jobs&&Array.isArray(r.jobs)){var e,a;m(r.jobs),u(new Date().toLocaleString("pt-BR")),console.log("✅ ".concat(r.jobs.length," vagas carregadas no admin")),console.log("\uD83D\uDCC8 Fontes: ".concat((null==(a=r.meta)||null==(e=a.sources)?void 0:e.join(", "))||"N/A")),console.log("\uD83C\uDFAF Simples: ".concat(r.jobs.filter(e=>{var a,s,t;return(null==(a=e.category)?void 0:a.includes("Dom\xe9stica"))||(null==(s=e.category)?void 0:s.includes("Portaria"))||(null==(t=e.category)?void 0:t.includes("Vendas"))}).length))}else console.error("❌ Formato de dados inv\xe1lido:",r),b("Formato de dados inv\xe1lido recebido da API"),m([])}catch(e){console.error("❌ Erro ao carregar vagas:",e),b(e.message),m([])}finally{c(!1)}},k=async()=>{try{console.log("\uD83D\uDD04 Carregando vagas do BACKEND...");let e=o.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5000",a=await fetch("".concat(e,"/api/vagas"),{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!a.ok)throw Error("Erro HTTP! status: ".concat(a.status));let s=await a.json();console.log("\uD83D\uDCCA Vagas do backend recebidas:",s),s.success&&s.vagas&&Array.isArray(s.vagas)?(g(s.vagas),console.log("✅ ".concat(s.vagas.length," vagas carregadas do backend"))):(console.log("⚠️ Nenhuma vaga encontrada no backend"),g([]))}catch(e){console.error("❌ Erro ao carregar vagas do backend:",e),g([])}},D=async()=>{try{f(!0),console.log("\uD83D\uDCE5 Importando vagas do frontend para o backend...");let e=o.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5000",a=await fetch("".concat(e,"/api/vagas/import-from-frontend"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Erro HTTP! status: ".concat(a.status));let s=await a.json();if(console.log("\uD83D\uDCCA Resultado da importa\xe7\xe3o:",s),s.success)alert("✅ Importa\xe7\xe3o conclu\xedda!\n\n"+"• ".concat(s.stats.vagasImportadas," vagas novas\n")+"• ".concat(s.stats.vagasAtualizadas," vagas atualizadas\n")+"• ".concat(s.stats.erros," erros\n")+"• Total processado: ".concat(s.stats.total)),await k();else throw Error(s.message||"Erro na importa\xe7\xe3o")}catch(e){console.error("❌ Erro na importa\xe7\xe3o:",e),alert("❌ Erro na importa\xe7\xe3o: ".concat(e.message))}finally{f(!1)}};return(0,t.jsxs)(i.A,{children:[(0,t.jsx)(d(),{children:(0,t.jsx)("title",{children:"Administra\xe7\xe3o de Vagas - Site do Trabalhador"})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Administra\xe7\xe3o de Vagas"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Gerenciamento de todas as vagas do sistema (Frontend + Backend)"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:w,disabled:n,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:n?"\uD83D\uDD04 Carregando...":"\uD83D\uDD04 Atualizar Frontend"}),(0,t.jsx)("button",{onClick:k,disabled:n,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"\uD83D\uDCCA Atualizar Backend"}),(0,t.jsx)("button",{onClick:D,disabled:y||n,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:y?"\uD83D\uDCE5 Importando...":"\uD83D\uDCE5 Importar para Backend"})]})]}),(0,t.jsx)("div",{className:"mt-6 border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[(0,t.jsxs)("button",{onClick:()=>N("frontend"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("frontend"===v?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\uD83C\uDF10 Vagas Frontend (",x.length,")"]}),(0,t.jsxs)("button",{onClick:()=>N("backend"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("backend"===v?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\uD83D\uDDC4️ Vagas Backend (",h.length,")"]}),(0,t.jsx)("button",{onClick:()=>N("sync"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("sync"===v?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDD04 Sincroniza\xe7\xe3o"})]})}),p&&(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["\xdaltima atualiza\xe7\xe3o: ",p]})]}),(x.length>0||h.length>0)&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Frontend"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Backend"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:h.length})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.length+h.length})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,t.jsxs)("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Cidades"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set([...x.map(e=>{var a;return null==(a=e.location)?void 0:a.split(",")[0]}),...h.map(e=>{var a;return null==(a=e.localizacao)?void 0:a.split(",")[0]})]).size})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Categorias"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set([...x.map(e=>e.category),...h.map(e=>e.categoria)]).size})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border mb-8",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filtros"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),(0,t.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white",children:[(0,t.jsx)("option",{value:"",children:"Todas as categorias"}),Array.from(new Set(x.map(e=>e.category))).map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),(0,t.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white",children:[(0,t.jsx)("option",{value:"",children:"Todas as cidades"}),Array.from(new Set(x.map(e=>{var a;return null==(a=e.location)?void 0:a.split(",")[0]}))).map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo"}),(0,t.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white",children:[(0,t.jsx)("option",{value:"",children:"Todos os tipos"}),(0,t.jsx)("option",{value:"CLT",children:"CLT"}),(0,t.jsx)("option",{value:"Aut\xf4nomo",children:"Aut\xf4nomo"}),(0,t.jsx)("option",{value:"Diarista",children:"Diarista"}),(0,t.jsx)("option",{value:"Freelancer",children:"Freelancer"})]})]})]})]}),j&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro ao carregar vagas"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-red-700",children:j})]})]})}),n&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsxs)("div",{className:"inline-flex items-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{className:"text-lg text-gray-600",children:"Carregando vagas..."})]})}),"frontend"===v&&(0,t.jsxs)(t.Fragment,{children:[!n&&x.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["\uD83D\uDCF1 Vagas do Frontend (",x.length,")"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Vagas obtidas das APIs do frontend (simple-jobs, public-jobs, etc.)"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vaga"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localiza\xe7\xe3o"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sal\xe1rio"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fonte"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.slice(0,50).map((e,a)=>{var s;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:(null==(s=e.company)?void 0:s.name)||e.company||"N/A"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.location})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.salary})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.source||"Frontend"})})]},e.id||a)})})]})}),x.length>50&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Mostrando primeiras 50 vagas de ",x.length," total"]})})]}),!n&&0===x.length&&!j&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,t.jsx)("h3",{className:"mt-6 text-lg font-medium text-gray-900",children:"Nenhuma vaga do frontend encontrada"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:'Clique em "Atualizar Frontend" para carregar as vagas dispon\xedveis.'})]})]}),"backend"===v&&(0,t.jsxs)(t.Fragment,{children:[h.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["\uD83D\uDDC4️ Vagas do Backend (",h.length,")"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Vagas armazenadas no banco de dados do backend"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vaga"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localiza\xe7\xe3o"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sal\xe1rio"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.slice(0,50).map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.titulo}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id," | Criada: ",new Date(e.data_criacao).toLocaleDateString("pt-BR")]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.empresa||"N/A"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.localizacao})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.salario||"A combinar"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:e.categoria})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.ativa?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.ativa?"Ativa":"Inativa"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Editar"}),(0,t.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},e.id||a))})]})}),h.length>50&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Mostrando primeiras 50 vagas de ",h.length," total"]})})]}),0===h.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),(0,t.jsx)("h3",{className:"mt-6 text-lg font-medium text-gray-900",children:"Nenhuma vaga no backend"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:'Use a fun\xe7\xe3o "Importar para Backend" para transferir vagas do frontend para o banco de dados.'})]})]}),"sync"===v&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uD83D\uDD04 Sincroniza\xe7\xe3o de Vagas"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Gerencie a sincroniza\xe7\xe3o entre as vagas do frontend e backend. As vagas do frontend s\xe3o obtidas dinamicamente de v\xe1rias fontes, enquanto as do backend s\xe3o armazenadas permanentemente no banco de dados."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900",children:"Importar vagas do frontend para o backend"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Transfere todas as vagas do frontend para o banco de dados do backend"})]}),(0,t.jsx)("button",{onClick:D,disabled:y||n,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:y?"\uD83D\uDCE5 Importando...":"\uD83D\uDCE5 Importar Agora"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDCF1 Vagas Frontend"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:x.length}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Dispon\xedveis para importa\xe7\xe3o"})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"\uD83D\uDDC4️ Vagas Backend"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:h.length}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Armazenadas no banco"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("h5",{className:"font-medium text-yellow-900 mb-2",children:"⚠️ Importante"}),(0,t.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-1",children:[(0,t.jsx)("li",{children:"• As vagas ser\xe3o sincronizadas baseadas no ID \xfanico"}),(0,t.jsx)("li",{children:"• Vagas existentes ser\xe3o atualizadas com novos dados"}),(0,t.jsx)("li",{children:"• Novas vagas ser\xe3o inseridas no banco de dados"}),(0,t.jsx)("li",{children:"• O processo pode levar alguns minutos dependendo da quantidade"})]})]})]})]})]})]})}},6297:(e,a,s)=>{"use strict";s.d(a,{A:()=>c});var t=s(7876),r=s(4232),l=s(9099),n=s(7328),d=s.n(n),i=s(8230),o=s.n(i);let c=e=>{let{children:a,title:s="Painel Administrativo"}=e,n=(0,l.useRouter)(),[i,c]=(0,r.useState)(null),[x,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{setTimeout(()=>{let e=localStorage.getItem("admin_token"),a=localStorage.getItem("admin_user");if(!e||"admin_authenticated"!==e)return void n.push("/admin/login");if(a)try{let e=JSON.parse(a);e.authenticated?(c(e),m(!1)):n.push("/admin/login")}catch(e){n.push("/admin/login")}else n.push("/admin/login")},100)},[n]);let h=[{icon:"\uD83D\uDCCA",label:"Dashboard",href:"/admin",active:"/admin"===n.pathname},{icon:"\uD83D\uDCBC",label:"Vagas",href:"/admin/vagas",active:n.pathname.startsWith("/admin/vagas")},{icon:"\uD83D\uDCCB",label:"Analytics Vagas",href:"/admin/vagas/analytics",active:"/admin/vagas/analytics"===n.pathname},{icon:"\uD83D\uDC65",label:"Leads",href:"/admin/leads",active:"/admin/leads"===n.pathname},{icon:"\uD83C\uDFE2",label:"Empresas",href:"/admin/empresas",active:"/admin/empresas"===n.pathname},{icon:"\uD83D\uDC64",label:"Usu\xe1rios",href:"/admin/usuarios",active:"/admin/usuarios"===n.pathname},{icon:"✏️",label:"Editor de Conte\xfado",href:"/admin/conteudo",active:n.pathname.startsWith("/admin/conteudo")},{icon:"⚙️",label:"Configura\xe7\xf5es",href:"/admin/configuracoes",active:"/admin/configuracoes"===n.pathname}];return x?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Carregando painel..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,t.jsx)(d(),{children:(0,t.jsxs)("title",{children:[s," - Site do Trabalhador"]})}),(0,t.jsxs)("div",{className:"w-64 bg-white shadow-lg flex flex-col",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center p-1",children:(0,t.jsx)("img",{src:"/site do trabalhador.png",alt:"Site do Trabalhador",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Painel Administrativo"})]})]})}),(0,t.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:h.map((e,a)=>(0,t.jsxs)(o(),{href:e.href,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),(0,t.jsx)("span",{children:e.label}),e.active&&(0,t.jsx)("span",{className:"ml-auto text-blue-600",children:"→"})]},a))}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"\uD83D\uDC64"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null==i?void 0:i.name)||"Admin"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:(null==i?void 0:i.email)||"admin@admin.com"})]})]}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),n.push("/admin/login")},className:"w-full text-left text-sm text-gray-600 hover:text-red-600 transition-colors",children:"\uD83D\uDEAA Sair"})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Bem-vindo ao painel de controle do Site do Trabalhador"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:"\uD83D\uDD14"}),(0,t.jsx)(o(),{href:"/",className:"text-sm text-blue-600 hover:text-blue-800",children:"Ver Site →"})]})]})}),(0,t.jsx)("main",{className:"flex-1 p-6",children:a})]})]})}},9772:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/vagas/index-backup",function(){return s(4255)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(9772)),_N_E=e.O()}]);